<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data wrangling for register studies â€¢ regstudies</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data wrangling for register studies">
<meta property="og:description" content="regstudies">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">regstudies</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/backup_file_delete.html">BACKUP FILE</a>
    </li>
    <li>
      <a href="../articles/classification_tables.html">Classification tables</a>
    </li>
    <li>
      <a href="../articles/data_wrangling.html">Data wrangling for register studies</a>
    </li>
    <li>
      <a href="../articles/example.html">Example of regstudies workflow</a>
    </li>
    <li>
      <a href="../articles/introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/using_own_classifications.html">Using own classifications</a>
    </li>
    <li>
      <a href="../articles/vignette_v2_old.html">Use cases of 'regstudies' R package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/pohjois-savon-tietoallas/regstudies/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="data_wrangling_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Data wrangling for register studies</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/pohjois-savon-tietoallas/regstudies/blob/master/vignettes/data_wrangling.Rmd"><code>vignettes/data_wrangling.Rmd</code></a></small>
      <div class="hidden name"><code>data_wrangling.Rmd</code></div>

    </div>

    
    
<p>Install and load necessary libraries for this example</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">regstudies</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tidyverse</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">vroom</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">lubridate</span>)</pre></body></html></div>
<div id="data-preparation" class="section level2">
<h2 class="hasAnchor">
<a href="#data-preparation" class="anchor"></a>Data preparation</h2>
<p>For demonstration purpose we are going to create random cohort and registry datasets</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="co">## Generate random cohort id data</span>
<span class="no">cohort_data</span> <span class="kw">&lt;-</span> <span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span>(
  <span class="kw">personid</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fl">1201</span>, <span class="fl">1500</span>),
  <span class="kw">gender</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>,<span class="fl">2</span>), <span class="fl">300</span>, <span class="kw">replace</span> <span class="kw">=</span> <span class="no">T</span>),
  <span class="kw">postingdate</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span>(<span class="st">"2000-01-01"</span>), <span class="fl">300</span>)
)

<span class="co"># Read ICD-codes so that we generate from all classes:</span>
<span class="fu"><a href="../reference/read_classes_tibble.html">read_classes_tibble</a></span>(<span class="kw pkg">regstudies</span><span class="kw ns">:::</span><span class="no">charlson_classes</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(!<span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(<span class="no">regex</span>)) <span class="kw">%&gt;%</span>
  <span class="fu">mutate</span>(<span class="kw">regex2</span><span class="kw">=</span><span class="fu">str_replace_all</span>(<span class="no">regex</span>,<span class="st">"^\\^"</span>,<span class="st">""</span>)) <span class="kw">%&gt;%</span>
  <span class="fu">group_by</span>(<span class="no">icd</span>,<span class="no">class_charlson</span>) <span class="kw">%&gt;%</span>
  <span class="fu">mutate</span>(<span class="kw">regex3</span><span class="kw">=</span><span class="fu">str_split</span>(<span class="no">regex2</span>,<span class="kw">pattern</span><span class="kw">=</span><span class="st">"\\|\\^"</span>)) <span class="kw">%&gt;%</span>
  <span class="fu">mutate</span>(<span class="kw">regex4</span><span class="kw">=</span><span class="kw pkg">purrr</span><span class="kw ns">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map_chr</a></span>(<span class="no">regex3</span>,<span class="kw pkg">magrittr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/magrittr/man/aliases.html">extract</a></span>(<span class="fl">1</span>))) <span class="kw">%&gt;%</span>
  <span class="fu">pull</span>(<span class="no">regex4</span>) <span class="kw">-&gt;</span> <span class="no">random_icd_codes</span></pre></body></html></div>
<pre><code>## Joining, by = "label_charlson"</code></pre>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">sample_at_least_once</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">x</span>, <span class="no">size</span>, <span class="no">replace</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="no">prob</span> <span class="kw">=</span> <span class="kw">NULL</span>) {
  <span class="co"># size must be more than length(x)!</span>
  <span class="kw">if</span> (<span class="no">size</span> <span class="kw">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="no">x</span>)) {
    <span class="co"># take all elements at least once</span>
    <span class="no">sample1</span><span class="kw">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="kw">x</span><span class="kw">=</span><span class="no">x</span>,<span class="kw">size</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="no">x</span>),<span class="kw">replace</span><span class="kw">=</span><span class="fl">FALSE</span>,<span class="kw">prob</span><span class="kw">=</span><span class="no">prob</span>)
    <span class="no">sample2</span><span class="kw">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="kw">x</span><span class="kw">=</span><span class="no">x</span>,<span class="kw">size</span><span class="kw">=</span><span class="no">size</span>-<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="no">x</span>),<span class="kw">replace</span> <span class="kw">=</span> <span class="no">replace</span>,<span class="kw">prob</span><span class="kw">=</span><span class="no">prob</span>)
    <span class="fu"><a href="https://rdrr.io/r/base/function.html">return</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">sample1</span>,<span class="no">sample2</span>))
  } <span class="kw">else</span> {
    <span class="fu"><a href="https://rdrr.io/r/base/function.html">return</a></span>(<span class="kw">NULL</span>)
  }
}
<span class="co">#table(random_icd_codes)</span>
<span class="co">#sample_at_least_once(unique(random_icd_codes), 17, replace = TRUE) %&gt;%</span>
<span class="co">#  table()</span>

<span class="no">reg_data</span> <span class="kw">&lt;-</span> <span class="kw pkg">tibble</span><span class="kw ns">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span>(
  <span class="kw">personid</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="no">cohort_data</span>$<span class="no">personid</span>, <span class="fl">10000</span>, <span class="kw">replace</span> <span class="kw">=</span> <span class="fl">TRUE</span>),
  <span class="kw">CODE1</span> <span class="kw">=</span> <span class="fu">sample_at_least_once</span>(<span class="no">random_icd_codes</span>, <span class="fl">10000</span>, <span class="kw">replace</span> <span class="kw">=</span> <span class="fl">TRUE</span>),
  <span class="kw">adm_date</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span>(<span class="st">"1990-01-01"</span>), <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span>(<span class="st">"2005-12-31"</span>), <span class="kw">by</span> <span class="kw">=</span> <span class="fl">1</span>), <span class="fl">10000</span>, <span class="kw">replace</span> <span class="kw">=</span> <span class="no">T</span>)
  <span class="co"># disc_date = ,</span>
)
<span class="no">reg_data</span>$<span class="no">disc_date</span> <span class="kw">&lt;-</span> (<span class="no">reg_data</span>$<span class="no">adm_date</span> + <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fl">0</span>,<span class="fl">180</span>), <span class="fl">10000</span>, <span class="kw">replace</span> <span class="kw">=</span> <span class="no">T</span>))</pre></body></html></div>
<p>We need to also create a new help variable <code>icd</code> which determines if code is ICD-9, ICD-10 or some other format by year:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">d</span> <span class="kw">&lt;-</span> <span class="fu">left_join</span>(<span class="no">cohort_data</span>,<span class="no">reg_data</span>)</pre></body></html></div>
<pre><code>## Joining, by = "personid"</code></pre>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="co"># Determine if codes are ICD-8, ICD-9 or ICD-10</span>
<span class="no">d</span> <span class="kw">&lt;-</span> <span class="no">d</span> <span class="kw">%&gt;%</span>
  <span class="fu">mutate</span>(<span class="kw">icd</span> <span class="kw">=</span> <span class="fu">case_when</span>(
    <span class="fu"><a href="http://lubridate.tidyverse.org/reference/year.html">year</a></span>(<span class="no">disc_date</span>) <span class="kw">&lt;</span> <span class="fl">1987</span> ~ <span class="st">"icd8"</span>,
    <span class="fu"><a href="http://lubridate.tidyverse.org/reference/year.html">year</a></span>(<span class="no">disc_date</span>) <span class="kw">&lt;</span> <span class="fl">1996</span> <span class="kw">&amp;</span> <span class="fu"><a href="http://lubridate.tidyverse.org/reference/year.html">year</a></span>(<span class="no">disc_date</span>)<span class="kw">&gt;=</span><span class="fl">1987</span> ~ <span class="st">"icd9"</span>,
    <span class="fu"><a href="http://lubridate.tidyverse.org/reference/year.html">year</a></span>(<span class="no">disc_date</span>) <span class="kw">&gt;=</span> <span class="fl">1996</span> ~ <span class="st">"icd10"</span>
    ))</pre></body></html></div>
</div>
<div id="data-wrangling-for-register-data-sets" class="section level1">
<h1 class="hasAnchor">
<a href="#data-wrangling-for-register-data-sets" class="anchor"></a>Data wrangling for register data sets</h1>
<div id="example-data-set" class="section level3">
<h3 class="hasAnchor">
<a href="#example-data-set" class="anchor"></a>Example data set</h3>
<p>The regstudies package also provides useful tools for modifying and filtering the register data sets. Typically in register studies the data consists of events, which are stored in data as time stamps. In our example data set the time stamps are date of hospital visits. Also, in register studies the data are commonly studied with respect to index date, which is a date of interest that can vary by individuals.</p>
<p>Our example data is simulated data that represents a postal questionnaire survey study which has been extended to register data. There are two data sets, the <code>cohort_data</code> is holding the study group, and <code>reg_data</code> holds the hospital visits for the study group members.</p>
<p>More precisely, the <code>cohort_data</code> lists the individual id study numbers as <code>id</code> for whom the register data has been collected. It also list the <code>postingdate</code> holding the date of submitting the postal questionnaire. The <code>reg_data</code> contains also variable <code>id</code> which is necessary to be able to link the data sets. The <code>reg_data</code> also contains variables holding the diagnosis codes at <code>CODE1</code> and times of hospital admission <code>adm_date</code> and hospital discharge <code>disc_date</code>.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">cohort_data</span>)</pre></body></html></div>
<pre><code>## # A tibble: 6 x 3
##   personid gender postingdate
##      &lt;int&gt;  &lt;dbl&gt; &lt;date&gt;     
## 1     1201      1 2000-01-01 
## 2     1202      2 2000-01-01 
## 3     1203      2 2000-01-01 
## 4     1204      1 2000-01-01 
## 5     1205      1 2000-01-01 
## 6     1206      2 2000-01-01</code></pre>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">reg_data</span>)</pre></body></html></div>
<pre><code>## # A tibble: 6 x 4
##   personid CODE1 adm_date   disc_date 
##      &lt;int&gt; &lt;chr&gt; &lt;date&gt;     &lt;date&gt;    
## 1     1353 E102  1995-08-02 1995-12-07
## 2     1346 140   1990-10-02 1990-12-28
## 3     1493 A10   1998-07-16 1998-11-06
## 4     1449 G041  2000-02-17 2000-06-16
## 5     1233 531   1993-05-27 1993-10-09
## 6     1339 39891 1991-03-27 1991-05-18</code></pre>
</div>
</div>
<div id="filtering" class="section level1">
<h1 class="hasAnchor">
<a href="#filtering" class="anchor"></a>Filtering</h1>
<div id="filtering-by-dates" class="section level2">
<h2 class="hasAnchor">
<a href="#filtering-by-dates" class="anchor"></a>Filtering by dates</h2>
<p>Filter dataset with either <code>adm_date</code> or <code>disc_date</code> within two years around <code>postingdate</code></p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="no">filtered_d</span> <span class="kw">&lt;-</span> <span class="no">d</span> <span class="kw">%&gt;%</span>
  <span class="kw pkg">regstudies</span><span class="kw ns">::</span><span class="fu"><a href="../reference/filter_date_range.html">filter_date_range</a></span>(<span class="kw">indexdate</span><span class="kw">=</span><span class="no">postingdate</span>,
                          <span class="kw">range</span><span class="kw">=</span><span class="fu"><a href="http://lubridate.tidyverse.org/reference/period.html">years</a></span>(<span class="fl">2</span>),
                          <span class="no">adm_date</span>,
                          <span class="no">disc_date</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">filtered_d</span>)</pre></body></html></div>
<pre><code>## # A tibble: 6 x 7
##   personid gender postingdate CODE1 adm_date   disc_date  icd  
##      &lt;int&gt;  &lt;dbl&gt; &lt;date&gt;      &lt;chr&gt; &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;
## 1     1201      1 2000-01-01  410   1998-09-17 1999-01-11 icd10
## 2     1201      1 2000-01-01  137   2000-08-13 2000-11-30 icd10
## 3     1201      1 2000-01-01  I70   1999-06-13 1999-08-24 icd10
## 4     1201      1 2000-01-01  203   2001-04-11 2001-07-26 icd10
## 5     1201      1 2000-01-01  042   1998-11-11 1999-01-22 icd10
## 6     1201      1 2000-01-01  410   2000-06-25 2000-10-26 icd10</code></pre>
</div>
<div id="filtering-by-date-intervals" class="section level2">
<h2 class="hasAnchor">
<a href="#filtering-by-date-intervals" class="anchor"></a>Filtering by date intervals</h2>
<p>Filter data set with occurrences of hospital visits. If person has been in hospital during the time period two years prior <code>postingdate</code> then those events are included.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="no">filtered_d</span> <span class="kw">&lt;-</span> <span class="no">d</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/filter_date_interval.html">filter_date_interval</a></span>(<span class="kw">indexdate</span> <span class="kw">=</span> <span class="no">postingdate</span>,
                       <span class="kw">time_before</span><span class="kw">=</span><span class="fu"><a href="http://lubridate.tidyverse.org/reference/period.html">years</a></span>(<span class="fl">2</span>),
                       <span class="kw">admission_date</span><span class="kw">=</span><span class="no">adm_date</span>,
                       <span class="kw">discharge_date</span><span class="kw">=</span><span class="no">disc_date</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">filtered_d</span>)</pre></body></html></div>
<pre><code>## # A tibble: 6 x 7
##   personid gender postingdate CODE1 adm_date   disc_date  icd  
##      &lt;int&gt;  &lt;dbl&gt; &lt;date&gt;      &lt;chr&gt; &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;
## 1     1201      1 2000-01-01  410   1998-09-17 1999-01-11 icd10
## 2     1201      1 2000-01-01  I70   1999-06-13 1999-08-24 icd10
## 3     1201      1 2000-01-01  042   1998-11-11 1999-01-22 icd10
## 4     1202      2 2000-01-01  307   1998-12-29 1999-05-30 icd10
## 5     1202      2 2000-01-01  042   1998-01-06 1998-06-29 icd10
## 6     1203      2 2000-01-01  E100  1998-07-04 1998-12-24 icd10</code></pre>
<div id="complex-filtering" class="section level3">
<h3 class="hasAnchor">
<a href="#complex-filtering" class="anchor"></a>Complex filtering</h3>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="no">elixh_d</span> <span class="kw">&lt;-</span> <span class="no">d</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/classify_elixhauser.html">classify_elixhauser</a></span>(<span class="no">CODE1</span>)</pre></body></html></div>
<pre><code>## Joining, by = "label_elixhauser"</code></pre>
<pre><code>## [1] "Element 'regex.rm' NOT in use. Exceptions omitted."</code></pre>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">elixh_d</span>)</pre></body></html></div>
<pre><code>## # A tibble: 6 x 11
##   personid gender postingdate CODE1 adm_date   disc_date  icd   class_elixhauser
##      &lt;int&gt;  &lt;dbl&gt; &lt;date&gt;      &lt;chr&gt; &lt;date&gt;     &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;           
## 1     1201      1 2000-01-01  I850  1993-06-14 1993-06-17 icd9  &lt;NA&gt;            
## 2     1201      1 2000-01-01  07022 1995-05-01 1995-06-08 icd9  ld              
## 3     1201      1 2000-01-01  410   1998-09-17 1999-01-11 icd10 &lt;NA&gt;            
## 4     1201      1 2000-01-01  137   2000-08-13 2000-11-30 icd10 &lt;NA&gt;            
## 5     1201      1 2000-01-01  39891 2005-11-12 2006-01-24 icd10 &lt;NA&gt;            
## 6     1201      1 2000-01-01  B18   1995-11-12 1995-11-20 icd9  &lt;NA&gt;            
## # ... with 3 more variables: label_elixhauser &lt;chr&gt;, score_AHRQ &lt;dbl&gt;,
## #   score_van_Walraven &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Juho Kopra, Jani Miettinen, Reijo Sund.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
